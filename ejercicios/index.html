<!DOCTYPE html>
<html lang="en">

	<head>
		<title> Ejercicios &middot; Alepetepórico Blog </title>

		<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.80.0" />




<script src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">


<link rel="stylesheet" href="https://alepeteporico.github.io/css/nix.css">



<link rel="shortcut icon" href="/favicon.ico">



<link href="https://fonts.googleapis.com/css?family=Inconsolata%7COpen+Sans%7CConcert+One" rel="stylesheet">






	</head>

	<body>
		<header>
	<nav class="navbar navbar-dark bg-dark fixed-top navbar-expand-lg font-header">
		<div class="container-fluid">
			<a class="navbar-brand" id="green-terminal" href='https://alepeteporico.github.io/'>
				blog@alepetepórico ~ $
			</a>
			<button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse-1" 
					aria-controls="navbar-collapse-1" aria-expanded="false">
				<span class="visually-hidden">Toggle navigation</span>
				<span class="navbar-toggler-icon"></span>
			</button>
	
			
			<div class="collapse navbar-collapse" id="navbar-collapse-1">
				<ul class="nav navbar-nav ms-auto">
					<li class="nav-item">
						<a class="nav-link" href='https://alepeteporico.github.io/'>
							/home/blog</a>
					</li>
					
					
					
					<li class="nav-item dropdown">
						
						<a class="nav-link" href="https://alepeteporico.github.io/apuntes">~/apuntes</a>
						
					</li>
					
					
					<li class="nav-item dropdown">
						
						<a class="nav-link" href="https://alepeteporico.github.io/ejercicios">~/ejercicios</a>
						
					</li>
					
					
					<li class="nav-item dropdown">
						
						<a class="nav-link" href="https://alepeteporico.github.io/problemas">~/problemas</a>
						
					</li>
					
					
					<li class="nav-item dropdown">
						
						<a class="nav-link" href="https://alepeteporico.github.io/practicas">~/prácticas</a>
						
					</li>
					
				</ul>
			</div>
		</div>
	</nav>
</header>

		<div class="flex-wrapper">
			<div class="container wrapper">
				<div class="row">
					<div class="col-xs-12 text-center">
						<h1 id=>Ejercicios</h1>
					</div>
				</div>
				<ul id="post-list">
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/ejercicios_ansibld/">Ejercicios de Anisble con vagrant</a></h4>
				<h4 class="post-date">2022-06-18</h4>
			</div>
			<div class="post-summary"><p>Ejercicio 1   repositorio del ansible
  Salida de la ejecución del playbook.
  alejandrogv@AlejandroGV:~/vagrant/servicios/ejercicios_ansible/ejercicio1$ ansible-playbook site.yaml [WARNING]: Found both group and host with same name: ejercicio1 PLAY [ejercicio1] *************************************************************************************** TASK [Gathering Facts] ********************************************************************************** ok: [ejercicio1] TASK [Crear usuario alejandro] ************************************************************************** ok: [ejercicio1] TASK [Descarga latest.zip] ****************************************************************************** ok: [ejercicio1] TASK [Actualización] ************************************************************************************ ok: [ejercicio1] TASK [Instala los paquetes necesarios] ****************************************************************** ok: [ejercicio1] TASK [Descomprime latest.zip] *************************************************************************** ok: [ejercicio1] TASK [Crear una base de datos] ************************************************************************** ok: [ejercicio1] TASK [Crear usuario de la bd] *************************************************************************** changed: [ejercicio1] TASK [Clonar repositorio github] ************************************************************************ changed: [ejercicio1] PLAY RECAP ********************************************************************************************** ejercicio1 : ok=9 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 Ejercicio 2  Vagrantfile del escenario  Vagrant.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/ejercicios_ansibld/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/almacenamiento_libvirt/">Trabajo con almacenamiento en libvirt</a></h4>
				<h4 class="post-date">2022-04-20</h4>
			</div>
			<div class="post-summary"><p>Crea un nuevo pool de almacenamiento de tipo lvm, y crea un volumen de 3Gi dentro que sea una volumen lógico. Con virt-install instala una máquina que se llame original_tunombre cuyo disco sea el volumen creado.  &lt;pool type='logical'&gt; &lt;name&gt;pool_lvm&lt;/name&gt; &lt;capacity unit='bytes'&gt;5368709120&lt;/capacity&gt; &lt;source&gt; &lt;name&gt;debian&lt;/name&gt; &lt;/source&gt; &lt;target&gt; &lt;path&gt;/home/alejandrogv/libvirt/pool&lt;/path&gt; &lt;permissions&gt; &lt;mode&gt;0711&lt;/mode&gt; &lt;owner&gt;0&lt;/owner&gt; &lt;group&gt;0&lt;/group&gt; &lt;/permissions&gt; &lt;/target&gt; &lt;/pool&gt; virsh -c qemu:///system pool-define --file pool.xml virsh -c qemu:///system pool-start pool_lvm sudo lvcreate -L 3G -n pool1 debian virt-install --connect qemu:///system --network network=default --name=original_alegv --memory 1024 --vcpus 1 --disk /dev/debian/pool1 --cdrom /home/alejandrogv/Escritorio/ISOS/debian-11.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/almacenamiento_libvirt/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/redes_libvirt/">Trabajo con redes en libvirt</a></h4>
				<h4 class="post-date">2022-04-20</h4>
			</div>
			<div class="post-summary"><p>Crea una máquina virtual conectada a la red_interna del ejercicio anterior, utilizando virt-install. Está máquina se debe llamar nodo1_tunombre.  virt-install --connect qemu:///system --cdrom ../Escritorio/ISOS/debian-11.1.0-amd64-netinst.iso --disk size=10 --network network=red_interna --name nodo1_ale --memory 512 --vcpus 1  Crea un clon de la máquina anterior con virt-clone, esta máquina se debe llamar nodo2_tunombre.  virt-clone --original=nodo1_ale --name=nodo2_ale --auto-clone  Crea una red aislada (very isolated) que nos permita unir el nodo1 y el nodo2, pero que no esté conectada al host.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/redes_libvirt/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/apache_uwsgi/">Desplegando aplicaciones flask con apache2 &#43; uwsgi</a></h4>
				<h4 class="post-date">2022-04-11</h4>
			</div>
			<div class="post-summary"><p>Tendremos nuestro entorno virtual donde debemos instalar los siguientes paquetes.  (ejercicio3) alejandrogv@AlejandroGV:~$ pip install flask uwsgi  Clonamos la aplicación que instalaremos.  alejandrogv@AlejandroGV:~/Escritorio/ASIR/IWEB$ git clone https://github.com/josedom24/guestbook.git  En este repositorio encontraremos una carpeta llamada app donde se alojará un fichero llamado app.py ahí debemos crear un fichero llamado wsgi.py con el siguiente contenido.  from app import prog as application  Instalamos los paquetes del requirementes.txt que se aloja también la carpeta app.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/apache_uwsgi/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/dns_ejercicio2/">Instalación y configuración de un servidor DNS esclavo </a></h4>
				<h4 class="post-date">2022-04-05</h4>
			</div>
			<div class="post-summary"><p>creamos una máquina que actuara de DNS secundario, el primer paso será cambiar el hostname de está maquina.  vagrant@gutierrezvalencia:~$ hostname -f gutierrezvalencia.iesgn.org  Nos dirigimos al DNS primario y configuramos el fichero /etc/bind/named.conf.options  options { directory &quot;/var/cache/bind&quot;; allow-query { 10.0.0.0/24; }; allow-transfer { none; }; auth-nxdomain no; # conform to RFC1035 recursion no; dnssec-validation auto; listen-on-v6 { any; }; };  Y también debemos cambiar el /etc/bind/named.conf.local para añadir el rol de maestro.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/dns_ejercicio2/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/ejercicio4_cortafuegos/">Ejercicio 4 cortafuegos</a></h4>
				<h4 class="post-date">2022-03-11</h4>
			</div>
			<div class="post-summary"><p>Realizaremos las mismas reglas que en el ejercicio 3, ahora en nftables, para ello usaremos como hicimos el ejercicio 2 la familia inet sobre las tablas de nftables para que valgan tanto para ipv4 como para ipv6. Hagamos las tabalas y cadenas necesarias para empezar.
  Añadimos una regla para tener conexión ssh con la máquina.
  nft add rule inet filter input ip saddr 192.168.1.0/24 tcp dport 22 ct state new,established counter accept nft add rule inet filter output ip daddr 192.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/ejercicio4_cortafuegos/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/ejercicio3_cortafuegos/">Ejercicio 3 cortafuegos</a></h4>
				<h4 class="post-date">2022-03-10</h4>
			</div>
			<div class="post-summary"><p>Tendremos una máquina conectado a dos interfaces red, una que da al exterior y otra interna. Lo una vez preparada debemos hacer una regla snat para que la red interna pueda salir al exterior.  iptables -t nat -A POSTROUTING -s 172.16.0.0/24 -o ens3 -j MASQUERADE  Como hemos estado haciendo vamos a añadir la regla de ssh para poder poner la politica DROP sin problema.  iptables -A INPUT -s 192.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/ejercicio3_cortafuegos/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/ejercicio2_cortafuegos/">Ejercicio 2 cortafuegos</a></h4>
				<h4 class="post-date">2022-02-28</h4>
			</div>
			<div class="post-summary"><p>En este ejercicio realizaremos todos los que hicimos en iptables en el primero ahora con nftables.
  Lo primero que haremos será añadir una tabla donde filtraremos los paquetes, ponemos la familia inet ya que estas reglas deben funcionar tanto en ipv4 como ipv6.
  root@servidor:~# nft add table inet filter  Debemos crear una cadena que acepte los paquete para poder seguir con nuestra conexión ssh.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/ejercicio2_cortafuegos/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/ejercicio1_cortafuegos/">Ejercicio 1 cortafuegos</a></h4>
				<h4 class="post-date">2022-02-03</h4>
			</div>
			<div class="post-summary"><p>Añadiremos las siguientes reglas.  # Limpiamos las tablas iptables -F iptables -t nat -F iptables -Z iptables -t nat -Z # Establecemos la política iptables -P INPUT DROP iptables -P OUTPUT DROP iptables -A INPUT -i lo -p icmp -j ACCEPT iptables -A OUTPUT -o lo -p icmp -j ACCEPT iptables -A INPUT -s 192.168.121.0/24 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT iptables -A OUTPUT -d 192.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/ejercicio1_cortafuegos/">Read More</a>
			</div>
		</div>
	</li>
	
	<li>
		<div class="post-list-item">
			<div class="post-header">
				<h4 class="post-link"><a href="https://alepeteporico.github.io/ejercicios/ejercicos_kubernetes/">Ejercicios kubernetes</a></h4>
				<h4 class="post-date">2022-02-03</h4>
			</div>
			<div class="post-summary"><p>Ejercicio 1  Pantallazo con la salida de minikube status y pantallazo con la salida de kubectl get nodes -o wide.  alejandrogv@AlejandroGV:~$ minikube status minikube type: Control Plane host: Running kubelet: Running apiserver: Running kubeconfig: Configured alejandrogv@AlejandroGV:~$ kubectl get nodes -o wide NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME minikube Ready control-plane,master 6d23h v1.23.1 192.168.39.156 &lt;none&gt; Buildroot 2021.02.4 4.19.202 docker://20.10.12 Ejercicio 2  Fichero yaml que has creado con la definición del Pod.</p></div>
			<div class="post-list-footer text-center">
				<a href="https://alepeteporico.github.io/ejercicios/ejercicos_kubernetes/">Read More</a>
			</div>
		</div>
	</li>
	
</ul>

				

<div class="pagination-wrapper text-center">
  <ul class="pagination">
      
      <li>
          <a href="/ejercicios/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      
      <li
      class="disabled">
          <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
      </li>
      
      <li
      class="active"><a href="/ejercicios/">1</a></li>
      
      <li
      ><a href="/ejercicios/page/2/">2</a></li>
      
      <li
      ><a href="/ejercicios/page/3/">3</a></li>
      
      <li
      >
          <a href="/ejercicios/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
      </li>
      
      <li>
          <a href="/ejercicios/page/3/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
      
    </ul>
</div>



			</div>
			<footer class="footer text-center">
<p>Copyright &copy; 2023 Alepetepórico Blog -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	and
	<a target="_blank" href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme.
</span>
</p>
</footer>

		</div>
	</body>
</html>
